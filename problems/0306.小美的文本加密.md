# 模拟
[题目链接](https://kamacoder.com/problempage.php?pid=1386)
## 思路分析
直接模拟即可， 需要注意数字太大可能会超出整型的存储范围， 所以需要在模拟的过程中及时对p取模。
## 复杂度分析
1. 时间复杂度：O(t*n^2)；
2. 空间复杂度：O(n)。
## 代码实现
### Cpp
``` cpp
#include<bits/stdc++.h>
#define endl '\n'
const int N = 100005, MOD = 1000000007;
using namespace std;
using LL = long long;
using PIL = pair<int, LL>;
using PII = pair<int, int>;
using T3I = tuple<int, int, int>;
int T = 0, dir[]{1, 0, -1, 0, 1};
int main() {
    cin.tie(nullptr) -> sync_with_stdio(false);
    cin >> T;
    while (T--) {
        string s, t;
        cin >> s;
        int p = 0, n = s.size(), cnt = 0;
        for (int i = 0; i < n; ++i) {
            if (s[i] >= '0' && s[i] <= '9') {
                if (cnt) {
                    p = p * 10 + s[i] - '0';
                    p %= cnt;
                }
            } else {
                t = t.substr(p) + t.substr(0, p);
                p = 0;
                if (s[i] == 'R') {
                    reverse(t.begin(), t.end());
                } else {
                    t.push_back(s[i]);
                    ++cnt;
                }
            }
        }
        cout << t << endl;
    }
    return 0;
}
```
### Python
``` python
import sys

def main():
    input = sys.stdin.readline
    T = int(input().strip())
    for _ in range(T):
        s = input().strip()
        t = []
        p = 0
        cnt = 0
        
        for char in s:
            if '0' <= char <= '9':
                if cnt:
                    p = (p * 10 + int(char)) % cnt
            else:
                if t:
                    # 执行旋转操作
                    p %= len(t)
                    t = t[p:] + t[:p]
                    p = 0
                
                if char == 'R':
                    t.reverse()
                else:
                    t.append(char)
                    cnt += 1
        
        print(''.join(t))

if __name__ == "__main__":
    main()
```
### Java
``` java
import java.io.*;
import java.util.*;

public class Main {
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        PrintWriter pw = new PrintWriter(System.out);
        
        int T = Integer.parseInt(br.readLine());
        while (T-- > 0) {
            String s = br.readLine();
            List<Character> t = new ArrayList<>();
            int p = 0, cnt = 0;
            
            for (int i = 0; i < s.length(); i++) {
                char c = s.charAt(i);
                if (c >= '0' && c <= '9') {
                    if (cnt > 0) {
                        p = (int)(((long)p * 10 + (c - '0')) % cnt);
                    }
                } else {
                    if (!t.isEmpty()) {
                        p %= t.size();
                        if (p > 0) {
                            // 旋转列表
                            List<Character> rotated = new ArrayList<>();
                            rotated.addAll(t.subList(p, t.size()));
                            rotated.addAll(t.subList(0, p));
                            t = rotated;
                        }
                        p = 0;
                    }
                    
                    if (c == 'R') {
                        Collections.reverse(t);
                    } else {
                        t.add(c);
                        cnt++;
                    }
                }
            }
            
            StringBuilder sb = new StringBuilder();
            for (char ch : t) sb.append(ch);
            pw.println(sb.toString());
        }
        
        pw.flush();
    }
}
```
### Go
``` go
package main

import (
	"bufio"
	"fmt"
	"os"
)

func main() {
	reader := bufio.NewReader(os.Stdin)
	writer := bufio.NewWriter(os.Stdout)
	defer writer.Flush()

	var T int
	fmt.Fscan(reader, &T)
	
	for T > 0 {
		T--
		var s string
		fmt.Fscan(reader, &s)
		
		t := make([]byte, 0)
		p, cnt := 0, 0
		
		for i := 0; i < len(s); i++ {
			c := s[i]
			if c >= '0' && c <= '9' {
				if cnt > 0 {
					p = (p*10 + int(c-'0')) % cnt
				}
			} else {
				if len(t) > 0 {
					p %= len(t)
					if p > 0 {
						// 旋转切片
						t = append(t[p:], t[:p]...)
					}
					p = 0
				}
				
				if c == 'R' {
					// 反转切片
					for i, j := 0, len(t)-1; i < j; i, j = i+1, j-1 {
						t[i], t[j] = t[j], t[i]
					}
				} else {
					t = append(t, c)
					cnt++
				}
			}
		}
		
		fmt.Fprintln(writer, string(t))
	}
}
```